import { useTheme } from "@emotion/react";
import styled from "@emotion/styled";
import { FC, useContext } from "react";
import { AppTheme } from "../constants/themes";
import { ModalsContext } from "../contexts/modals";

export const Header: FC = () => {
  const theme = useTheme() as AppTheme;
  const { openInstructions, openStats, openSettings } = useContext(ModalsContext);

  return (
    <Container theme={theme}>
      <ButtonContainer>
        {/* Instructions */}
        <Button onClick={openInstructions}>
          <svg width="24" height="24" fill="none" viewBox="0 0 24 24">
            <path
              stroke={theme.colors.text}
              strokeLinecap="round"
              strokeLinejoin="round"
              strokeWidth="1.5"
              d="M19.25 12C19.25 16.0041 16.0041 19.25 12 19.25C7.99594 19.25 4.75 16.0041 4.75 12C4.75 7.99594 7.99594 4.75 12 4.75C16.0041 4.75 19.25 7.99594 19.25 12Z"
            ></path>
            <path
              stroke={theme.colors.text}
              strokeLinecap="round"
              strokeLinejoin="round"
              strokeWidth="1.5"
              d="M9.75 10C9.75 10 10 7.75 12 7.75C14 7.75 14.25 9 14.25 10C14.25 10.7513 13.8266 11.5027 12.9798 11.8299C12.4647 12.0289 12 12.4477 12 13V13.25"
            ></path>
            <path
              stroke={theme.colors.text}
              strokeLinecap="round"
              strokeLinejoin="round"
              d="M12.5 16C12.5 16.2761 12.2761 16.5 12 16.5C11.7239 16.5 11.5 16.2761 11.5 16C11.5 15.7239 11.7239 15.5 12 15.5C12.2761 15.5 12.5 15.7239 12.5 16Z"
            ></path>
          </svg>
          <RedDot theme={theme} />
        </Button>
      </ButtonContainer>
      <Title theme={theme}>Cross Wordle</Title>
      <ButtonContainer>
        {/* Stats */}
        <Button onClick={openStats}>
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M8.89062 9.28125L4.87279 17.7937C4.44606 18.628 5.29889 19.5379 6.16008 19.1671L14.6016 16.1875"
              stroke={theme.colors.text}
              strokeWidth="1.5"
              strokeLinecap="round"
              strokeLinejoin="round"
            ></path>
            <path
              d="M13.3196 10.9774C14.9594 12.8695 15.698 15.085 14.9691 15.9259C14.2403 16.7669 12.3202 15.9147 10.6804 14.0226C9.04057 12.1305 8.30205 9.91499 9.03085 9.07406C9.75966 8.23313 11.6798 9.08527 13.3196 10.9774Z"
              stroke={theme.colors.text}
              strokeWidth="1.5"
              strokeLinecap="round"
              strokeLinejoin="round"
            ></path>
            <path
              d="M9.49994 17.6367C8.90314 17.2553 8.27339 16.707 7.68032 16.0227C7.28976 15.5721 6.95033 15.1031 6.66968 14.6387"
              stroke={theme.colors.text}
              strokeWidth="1.5"
              strokeLinecap="round"
              strokeLinejoin="round"
            ></path>
            <path
              d="M11.5 5C11.5 5.27614 11.2761 5.5 11 5.5C10.7239 5.5 10.5 5.27614 10.5 5C10.5 4.72386 10.7239 4.5 11 4.5C11.2761 4.5 11.5 4.72386 11.5 5Z"
              stroke={theme.colors.text}
              strokeLinecap="round"
              strokeLinejoin="round"
            ></path>
            <path
              d="M15.75 9.25L15.8787 9.12132C17.0503 7.94975 17.0503 6.05025 15.8787 4.87868L15.75 4.75"
              stroke={theme.colors.text}
              strokeWidth="1.5"
              strokeLinecap="round"
              strokeLinejoin="round"
            ></path>
            <path
              d="M17 13.0001L17.2929 12.7072C17.6834 12.3167 18.3166 12.3167 18.7071 12.7072L19 13.0001"
              stroke={theme.colors.text}
              strokeWidth="1.5"
              strokeLinecap="round"
              strokeLinejoin="round"
            ></path>
          </svg>
        </Button>

        {/* Settings */}
        <Button onClick={openSettings}>
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M5.62117 14.9627L6.72197 15.1351C7.53458 15.2623 8.11491 16.0066 8.05506 16.8451L7.97396 17.9816C7.95034 18.3127 8.12672 18.6244 8.41885 18.7686L9.23303 19.1697C9.52516 19.3139 9.87399 19.2599 10.1126 19.0352L10.9307 18.262C11.5339 17.6917 12.4646 17.6917 13.0685 18.262L13.8866 19.0352C14.1252 19.2608 14.4733 19.3139 14.7662 19.1697L15.5819 18.7678C15.8733 18.6244 16.0489 18.3135 16.0253 17.9833L15.9441 16.8451C15.8843 16.0066 16.4646 15.2623 17.2772 15.1351L18.378 14.9627C18.6985 14.9128 18.9568 14.6671 19.0292 14.3433L19.23 13.4428C19.3025 13.119 19.1741 12.7831 18.9064 12.5962L17.9875 11.9526C17.3095 11.4774 17.1024 10.5495 17.5119 9.82051L18.067 8.83299C18.2284 8.54543 18.2017 8.18538 17.9993 7.92602L17.4363 7.2035C17.2339 6.94413 16.8969 6.83701 16.5867 6.93447L15.5221 7.26794C14.7355 7.51441 13.8969 7.1012 13.5945 6.31908L13.1866 5.26148C13.0669 4.95218 12.7748 4.7492 12.4496 4.75L11.5472 4.75242C11.222 4.75322 10.9307 4.95782 10.8126 5.26793L10.4149 6.31344C10.1157 7.1004 9.27319 7.51683 8.4842 7.26874L7.37553 6.92078C7.0645 6.82251 6.72591 6.93044 6.52355 7.19142L5.96448 7.91474C5.76212 8.17652 5.73771 8.53738 5.90228 8.82493L6.47 9.81487C6.88812 10.5446 6.68339 11.4814 6.00149 11.9591L5.0936 12.5954C4.82588 12.7831 4.69754 13.119 4.76998 13.442L4.97077 14.3425C5.04242 14.6671 5.30069 14.9128 5.62117 14.9627Z"
              stroke={theme.colors.text}
              strokeWidth="1.5"
              strokeLinecap="round"
              strokeLinejoin="round"
            ></path>
            <path
              d="M13.5911 10.4089C14.4696 11.2875 14.4696 12.7125 13.5911 13.5911C12.7125 14.4696 11.2875 14.4696 10.4089 13.5911C9.53036 12.7125 9.53036 11.2875 10.4089 10.4089C11.2875 9.53036 12.7125 9.53036 13.5911 10.4089Z"
              stroke={theme.colors.text}
              strokeWidth="1.5"
              strokeLinecap="round"
              strokeLinejoin="round"
            ></path>
          </svg>
        </Button>
      </ButtonContainer>
    </Container>
  );
};

const RedDot = styled.div<{ theme: AppTheme }>`
  position: absolute;
  background: red;
  height: 10px;
  width: 10px;
  border-radius: 100%;
  border: 3px solid ${(p) => p.theme.colors.primary};
  margin-right: -18px;
  margin-top: -18px;
`;

const Container = styled.div<{ theme: AppTheme }>`
  position: relative;
  border-bottom: 1px solid ${(p) => p.theme.colors.tileSecondary};
  display: flex;
  align-items: center;
  justify-content: space-between;
  flex: 0 0 50px;
  z-index: 2;
`;

const ButtonContainer = styled.div`
  height: 100%;
  width: 80px;
  display: flex;
  justify-content: space-between;
  align-items: center;
`;

const Button = styled.button`
  position: relative;
  border: 0;
  background: none;
  width: 40px;
  padding: 6px;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 50ms ease-in;

  &:active {
    transform: translateY(2px);
    opacity: 0.5;
  }

  svg {
    transform: scale(1.25);
  }
`;

const Title = styled.h1<{ theme: AppTheme }>`
  margin: 0;
  font-weight: 700;
  font-size: 26px;
  letter-spacing: 0.025rem;
  text-transform: uppercase;
  text-align: center;
  color: ${(p) => p.theme.colors.text} @media (max-width: 430px) {
    font-size: 24px;
  }

  @media (max-width: 380px) {
    font-size: 20px;
  }
`;
